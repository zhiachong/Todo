<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Family Command Center</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f5f5f5;
            line-height: 1.6;
            min-height: 100vh;
        }

        .container {
            max-width: 480px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px 20px;
            border-radius: 16px;
            margin-bottom: 20px;
            text-align: center;
        }

        .header h1 {
            font-size: 24px;
            margin-bottom: 5px;
        }

        .header .date {
            opacity: 0.9;
            font-size: 14px;
            margin-bottom: 15px;
        }

        .nav-tabs {
            display: flex;
            gap: 10px;
            justify-content: center;
        }

        .nav-tab {
            padding: 10px 20px;
            background: rgba(255,255,255,0.2);
            border: none;
            border-radius: 8px;
            color: white;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.2s;
        }

        .nav-tab.active {
            background: white;
            color: #667eea;
        }

        .card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 16px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .card h2 {
            font-size: 18px;
            margin-bottom: 12px;
            color: #333;
        }

        /* School Status */
        .school-status {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .status-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }

        .status-dot.school { background: #27ae60; }
        .status-dot.noschool { background: #e74c3c; }

        /* Meals */
        .meal-item {
            padding: 10px 0;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
        }

        .meal-item:last-child { border-bottom: none; }

        .day-label {
            font-weight: 600;
            color: #667eea;
        }

        /* Health */
        .health-streak {
            text-align: center;
        }

        .streak-number {
            font-size: 48px;
            font-weight: 700;
            color: #667eea;
        }

        .streak-label {
            color: #666;
        }

        /* Notes */
        .quick-note {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            resize: vertical;
            min-height: 80px;
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 14px 24px;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            width: 100%;
            margin-top: 10px;
        }

        .btn:hover {
            opacity: 0.9;
        }

        /* Todo Styles */
        .input-wrapper {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }

        #taskInput {
            flex: 1;
            padding: 14px 18px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            font-size: 16px;
        }

        #taskInput:focus {
            outline: none;
            border-color: #667eea;
        }

        .filters {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }

        .filter-btn {
            flex: 1;
            padding: 10px;
            border: 2px solid #e0e0e0;
            background: white;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
        }

        .filter-btn.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-color: transparent;
        }

        .task-list {
            max-height: 300px;
            overflow-y: auto;
        }

        .task {
            display: flex;
            align-items: center;
            padding: 16px;
            background: #f8f9fa;
            border-radius: 12px;
            margin-bottom: 10px;
            transition: all 0.2s;
        }

        .task:hover {
            background: #f0f0f0;
        }

        .task-checkbox {
            width: 24px;
            height: 24px;
            border: 2px solid #667eea;
            border-radius: 50%;
            margin-right: 14px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .task-checkbox.checked {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-color: transparent;
        }

        .task-checkbox.checked::after {
            content: '‚úì';
            color: white;
            font-size: 14px;
            font-weight: bold;
        }

        .task.completed .task-text {
            text-decoration: line-through;
            color: #999;
        }

        .task-text {
            flex: 1;
            font-size: 16px;
            color: #333;
        }

        .task-delete {
            background: #ff4757;
            color: white;
            border: none;
            padding: 8px 14px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 13px;
            opacity: 0;
            transition: all 0.2s;
        }

        .task:hover .task-delete {
            opacity: 1;
        }

        .todo-stats {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-top: 15px;
            font-size: 12px;
            color: #666;
        }

        .empty-state {
            text-align: center;
            padding: 40px 20px;
            color: #999;
        }

        .section {
            display: none;
        }

        .section.active {
            display: block;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üìã Family Command Center</h1>
            <div class="date" id="todayDate">Loading...</div>
            <div class="nav-tabs">
                <button class="nav-tab active" onclick="showSection('family')">Family</button>
                <button class="nav-tab" onclick="showSection('tasks')">Tasks</button>
            </div>
        </div>

        <!-- Family Section -->
        <div id="family-section" class="section active">
            <div class="card">
                <h2>üè´ School Status</h2>
                <div class="school-status" id="schoolStatus">
                    <div class="status-dot school"></div>
                    <span>Aiden has school today</span>
                </div>
                <div style="margin-top: 12px; font-size: 14px; color: #666;" id="nextEvent">
                    Loading upcoming events...
                </div>
            </div>

            <div class="card">
                <h2>üçΩÔ∏è This Week's Meals</h2>
                <div id="mealPlan">
                    <div class="meal-item">
                        <span class="day-label">Monday</span>
                        <span>Korean Beef Bowl</span>
                    </div>
                    <div class="meal-item">
                        <span class="day-label">Tuesday</span>
                        <span>Miso Glazed Salmon</span>
                    </div>
                    <div class="meal-item">
                        <span class="day-label">Wednesday</span>
                        <span>Chicken Teriyaki</span>
                    </div>
                    <div class="meal-item">
                        <span class="day-label">Thursday</span>
                        <span>Mapo Tofu</span>
                    </div>
                    <div class="meal-item">
                        <span class="day-label">Friday</span>
                        <span>Pasta Bolognese</span>
                    </div>
                </div>
            </div>

            <div class="card">
                <h2>üí™ Health Streak</h2>
                <div class="health-streak">
                    <div class="streak-number" id="streakNumber">0</div>
                    <div class="streak-label">days of movement</div>
                </div>
                <button class="btn" onclick="logWorkout()">Log Today's Movement</button>
            </div>

            <div class="card">
                <h2>üìù Quick Note</h2>
                <textarea class="quick-note" id="quickNote" placeholder="What's on your mind?"></textarea>
                <button class="btn" onclick="saveNote()">Save Note</button>
            </div>
        </div>

        <!-- Tasks Section -->
        <div id="tasks-section" class="section">
            <div class="card">
                <h2>üìù Tasks</h2>
                
                <div class="input-wrapper">
                    <input type="text" id="taskInput" placeholder="What needs to be done?">
                    <button class="btn" style="width: auto; margin-top: 0;" onclick="addTask()">Add</button>
                </div>

                <div class="filters">
                    <button class="filter-btn active" data-filter="all" onclick="setFilter('all')">All</button>
                    <button class="filter-btn" data-filter="active" onclick="setFilter('active')">Active</button>
                    <button class="filter-btn" data-filter="completed" onclick="setFilter('completed')">Done</button>
                </div>

                <div class="task-list" id="taskList">
                    <div class="empty-state">
                        <div style="font-size: 48px; margin-bottom: 16px;">üìù</div>
                        <div style="font-size: 18px; color: #666;">No tasks yet</div>
                        <p>Add a task above</p>
                    </div>
                </div>

                <div class="todo-stats">
                    <span id="itemsLeft">0 items left</span>
                    <span style="cursor: pointer; color: #667eea;" onclick="clearCompleted()">Clear completed</span>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Navigation
        function showSection(section) {
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
            
            document.getElementById(section + '-section').classList.add('active');
            event.target.classList.add('active');
        }

        // Date
        const today = new Date();
        const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
        document.getElementById('todayDate').textContent = today.toLocaleDateString('en-US', options);

        // School Status
        const noSchoolDates = [
            '2026-02-14', '2026-02-15', '2026-02-16', '2026-02-17',
            '2026-02-23',
        ];
        
        const todayStr = today.toISOString().split('T')[0];
        const isNoSchool = noSchoolDates.includes(todayStr) || today.getDay() === 0 || today.getDay() === 6;
        
        if (isNoSchool) {
            document.getElementById('schoolStatus').innerHTML = 
                '<div class="status-dot noschool"></div><span>No school today</span>';
        }

        const nextEventDate = new Date('2026-02-14');
        const daysUntil = Math.ceil((nextEventDate - today) / (1000 * 60 * 60 * 24));
        document.getElementById('nextEvent').textContent = `Next: Presidents' Day Break in ${daysUntil} days`;

        // Health Streak
        let streak = parseInt(localStorage.getItem('healthStreak') || '0');
        document.getElementById('streakNumber').textContent = streak;

        function logWorkout() {
            streak++;
            localStorage.setItem('healthStreak', streak);
            document.getElementById('streakNumber').textContent = streak;
            alert('Great job! Streak updated.');
        }

        // Notes
        function saveNote() {
            const note = document.getElementById('quickNote').value;
            if (note.trim()) {
                const notes = JSON.parse(localStorage.getItem('quickNotes') || '[]');
                notes.push({ text: note, date: new Date().toISOString() });
                localStorage.setItem('quickNotes', JSON.stringify(notes));
                document.getElementById('quickNote').value = '';
                alert('Note saved!');
            }
        }

        // Tasks
        let tasks = JSON.parse(localStorage.getItem('tasks') || '[]');
        let currentFilter = 'all';

        function saveTasks() {
            localStorage.setItem('tasks', JSON.stringify(tasks));
            render();
        }

        function addTask() {
            const input = document.getElementById('taskInput');
            const text = input.value.trim();
            if (!text) return;

            tasks.push({
                id: Date.now(),
                text: text,
                completed: false
            });
            input.value = '';
            saveTasks();
        }

        function toggleTask(id) {
            const task = tasks.find(t => t.id === id);
            if (task) {
                task.completed = !task.completed;
                saveTasks();
            }
        }

        function deleteTask(id) {
            tasks = tasks.filter(t => t.id !== id);
            saveTasks();
        }

        function clearCompleted() {
            tasks = tasks.filter(t => !t.completed);
            saveTasks();
        }

        function setFilter(filter) {
            currentFilter = filter;
            document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            render();
        }

        function render() {
            let filtered = tasks;
            if (currentFilter === 'active') filtered = tasks.filter(t => !t.completed);
            if (currentFilter === 'completed') filtered = tasks.filter(t => t.completed);

            const activeCount = tasks.filter(t => !t.completed).length;
            document.getElementById('itemsLeft').textContent = `${activeCount} item${activeCount !== 1 ? 's' : ''} left`;

            const list = document.getElementById('taskList');
            
            if (filtered.length === 0) {
                list.innerHTML = `
                    <div class="empty-state">
                        <div style="font-size: 48px; margin-bottom: 16px;">üìù</div>
                        <div style="font-size: 18px; color: #666;">${currentFilter === 'completed' ? 'No completed tasks' : 'No tasks yet'}</div>
                    </div>`;
                return;
            }

            list.innerHTML = filtered.map(task => `
                <div class="task ${task.completed ? 'completed' : ''}">
                    <div class="task-checkbox ${task.completed ? 'checked' : ''}" onclick="toggleTask(${task.id})"></div>
                    <span class="task-text">${task.text}</span>
                    <button class="task-delete" onclick="deleteTask(${task.id})">Delete</button>
                </div>
            `).join('');
        }

        document.getElementById('taskInput').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') addTask();
        });

        render();
    </script>
</body>
</html>
